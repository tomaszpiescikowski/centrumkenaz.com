# Backend API proxy locations â€“ included in every server block
# that needs to reach the FastAPI backend.
#
# Usage:  include /etc/nginx/snippets/kenaz-backend.conf;

# Core API endpoints
location /auth/    { proxy_pass http://127.0.0.1:8000/auth/;    include /etc/nginx/proxy_params; }
location /events/  { proxy_pass http://127.0.0.1:8000/events/;  include /etc/nginx/proxy_params; }
location /payments/       { proxy_pass http://127.0.0.1:8000/payments/;       include /etc/nginx/proxy_params; }
location /users/          { proxy_pass http://127.0.0.1:8000/users/;          include /etc/nginx/proxy_params; }
location /registrations/  { proxy_pass http://127.0.0.1:8000/registrations/;  include /etc/nginx/proxy_params; }
location /products/       { proxy_pass http://127.0.0.1:8000/products/;       include /etc/nginx/proxy_params; }
location /uploads/        { proxy_pass http://127.0.0.1:8000/uploads/;        include /etc/nginx/proxy_params; }
location /cities/         { proxy_pass http://127.0.0.1:8000/cities/;         include /etc/nginx/proxy_params; }
location /api/            { proxy_pass http://127.0.0.1:8000/api/;            include /etc/nginx/proxy_params; }

# Admin endpoints
location /admin/   { proxy_pass http://127.0.0.1:8000/admin/;   include /etc/nginx/proxy_params; }

# Utility / docs
location = /health       { proxy_pass http://127.0.0.1:8000/health;       include /etc/nginx/proxy_params; }
location = /docs         { proxy_pass http://127.0.0.1:8000/docs;         include /etc/nginx/proxy_params; }
location = /redoc        { proxy_pass http://127.0.0.1:8000/redoc;        include /etc/nginx/proxy_params; }
location = /openapi.json { proxy_pass http://127.0.0.1:8000/openapi.json; include /etc/nginx/proxy_params; }
