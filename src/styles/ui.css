@layer components {
  .page-shell {
    @apply mx-auto w-full max-w-4xl px-5 py-4 sm:px-4 sm:py-6;
  }

  .page-card {
    @apply rounded-2xl border border-navy/10 bg-cream/75 p-5 dark:border-cream/15 dark:bg-navy/75;
  }

  .page-card-tight {
    @apply rounded-2xl border border-navy/10 bg-cream/75 p-4 dark:border-cream/15 dark:bg-navy/75;
  }

  .page-subcard {
    @apply rounded-2xl border border-navy/10 bg-cream/60 p-4 dark:border-cream/10 dark:bg-navy/60;
  }

  /* Panel section tile — card with header bar, like calendar event cards */
  .panel-tile {
    @apply rounded-2xl border border-navy/10 bg-cream/60 dark:border-cream/10 dark:bg-navy/60 overflow-hidden;
  }
  .panel-tile-header {
    @apply border-b border-navy/10 bg-navy/[0.04] px-5 py-3 dark:border-cream/10 dark:bg-cream/[0.04];
  }
  .panel-tile-body {
    @apply px-5 py-4;
  }

  /* Item card inside panel tiles */
  .myev-card {
    border-radius: 0.75rem;
    border: 1px solid rgba(15, 23, 74, 0.08);
    background: rgba(255, 253, 245, 0.4);
    padding: 1.25rem;
  }
  .dark .myev-card {
    border-color: rgba(255, 253, 245, 0.08);
    background: rgba(15, 23, 74, 0.4);
  }

  /* Integrated row inside panel tiles — mirrors ev-row from event detail */
  .panel-row {
    border-left: 3px solid transparent;
    padding: 0.875rem 1.25rem;
    transition: background 0.15s, filter 0.1s;
  }
  .panel-row:hover {
    filter: brightness(1.04);
  }
  .panel-row-clickable {
    cursor: pointer;
  }
  .panel-row-clickable:hover {
    filter: brightness(1.08);
    background: rgba(15, 23, 74, 0.04);
  }
  .dark .panel-row-clickable:hover {
    background: rgba(255, 253, 245, 0.04);
  }
  .panel-row-clickable:focus-visible {
    outline: 2px solid rgba(99, 102, 241, 0.5);
    outline-offset: -2px;
  }
  .panel-row-ok {
    background: rgba(34, 197, 94, 0.06);
    border-left-color: rgba(34, 197, 94, 0.40);
  }
  .panel-row-ok.panel-row-clickable:hover {
    background: rgba(34, 197, 94, 0.12);
  }
  .dark .panel-row-ok {
    background: rgba(34, 197, 94, 0.08);
  }
  .dark .panel-row-ok.panel-row-clickable:hover {
    background: rgba(34, 197, 94, 0.15);
  }
  .panel-row-wait {
    background: rgba(245, 158, 11, 0.07);
    border-left-color: rgba(245, 158, 11, 0.40);
  }
  .panel-row-wait.panel-row-clickable:hover {
    background: rgba(245, 158, 11, 0.14);
  }
  .dark .panel-row-wait {
    background: rgba(245, 158, 11, 0.09);
  }
  .dark .panel-row-wait.panel-row-clickable:hover {
    background: rgba(245, 158, 11, 0.16);
  }
  .panel-row-pay {
    background: rgba(99, 102, 241, 0.07);
    border-left-color: rgba(99, 102, 241, 0.40);
  }
  .panel-row-pay.panel-row-clickable:hover {
    background: rgba(99, 102, 241, 0.14);
  }
  .dark .panel-row-pay {
    background: rgba(99, 102, 241, 0.09);
  }
  .dark .panel-row-pay.panel-row-clickable:hover {
    background: rgba(99, 102, 241, 0.16);
  }

  /* Info chips for extra registration details */
  .panel-info-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.1875rem 0.5rem;
    border-radius: 999px;
    font-size: 0.6875rem;
    font-weight: 600;
    background: rgba(15, 23, 74, 0.05);
    color: rgba(15, 23, 74, 0.75);
  }
  .dark .panel-info-chip {
    background: rgba(255, 253, 245, 0.08);
    color: rgba(255, 253, 245, 0.75);
  }
  .panel-info-label {
    opacity: 0.65;
    font-weight: 500;
  }
  .panel-gcal-btn {
    background: rgba(66, 133, 244, 0.10);
    color: rgba(66, 133, 244, 0.9);
    text-decoration: none;
    cursor: pointer;
    transition: background 0.15s, color 0.15s;
  }
  .panel-gcal-btn:hover {
    background: rgba(66, 133, 244, 0.20);
    color: rgb(66, 133, 244);
  }
  .dark .panel-gcal-btn {
    background: rgba(138, 180, 248, 0.12);
    color: rgba(138, 180, 248, 0.9);
  }
  .dark .panel-gcal-btn:hover {
    background: rgba(138, 180, 248, 0.22);
    color: rgb(138, 180, 248);
  }
  .panel-gcal-added {
    background: rgba(52, 168, 83, 0.10);
    color: rgba(52, 168, 83, 0.85);
  }
  .dark .panel-gcal-added {
    background: rgba(129, 201, 149, 0.12);
    color: rgba(129, 201, 149, 0.85);
  }

  /* Disabled cancel button — grayed out with tooltip */
  .panel-cancel-disabled {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    border-radius: 999px;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: not-allowed;
    opacity: 0.45;
    border: 1px solid rgba(15, 23, 74, 0.15);
    color: rgba(15, 23, 74, 0.5);
    background: rgba(15, 23, 74, 0.04);
    user-select: none;
  }
  .dark .panel-cancel-disabled {
    border-color: rgba(255, 253, 245, 0.15);
    color: rgba(255, 253, 245, 0.45);
    background: rgba(255, 253, 245, 0.04);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-full border border-navy/25 bg-transparent
      px-5 py-2.5 text-sm font-semibold text-navy dark:border-cream/30 dark:text-cream;
  }

  .btn-accent {
    @apply inline-flex items-center justify-center rounded-full border border-navy bg-navy
      px-5 py-2.5 text-sm font-semibold text-cream dark:border-cream dark:bg-cream dark:text-navy;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-full border border-navy/20 bg-transparent
      px-4 py-2 text-sm font-semibold text-navy/80 dark:border-cream/25 dark:text-cream/85;
  }

  .btn-nav {
    @apply inline-flex h-10 items-center justify-center gap-2 rounded-full border border-navy/20 bg-transparent
      px-3 text-sm font-medium text-navy dark:border-cream/25 dark:text-cream lg:px-4;
  }

  .btn-disabled {
    @apply cursor-not-allowed bg-navy/20 text-navy/50 dark:bg-cream/20 dark:text-cream/50;
  }

  .ui-table-wrap {
    @apply max-h-[32rem] overflow-auto rounded-2xl border border-navy/10 dark:border-cream/10;
  }

  .ui-table {
    @apply min-w-full text-left text-xs;
  }

  .ui-table-head {
    @apply bg-navy/5 dark:bg-cream/10;
  }

  .ui-table-th {
    @apply px-3 py-2 font-semibold uppercase tracking-wide;
  }

  .ui-table-row {
    @apply border-t border-navy/10 dark:border-cream/10 leading-tight;
  }

  .ui-table-cell {
    @apply px-2 py-1.5 text-navy dark:text-cream;
  }

  .ui-table-empty {
    @apply px-2 py-2 text-navy/60 dark:text-cream/60;
  }

  .ui-table-sort-indicator {
    @apply text-[10px] text-navy/60 dark:text-cream/60;
  }

  .ui-view-card {
    @apply w-full rounded-2xl border p-6 text-left transition
      grid grid-rows-subgrid row-span-2 content-start;
  }

  .ui-view-card-active {
    @apply border-navy/45 bg-transparent dark:border-cream/45 dark:bg-transparent;
  }

  .ui-view-card-idle {
    @apply border-navy/10 bg-transparent dark:border-cream/15 dark:bg-transparent;
  }

  .ui-view-card-title {
    @apply text-xl font-black text-navy dark:text-cream;
  }

  .ui-view-card-description {
    @apply text-sm text-navy/70 dark:text-cream/70 self-start;
  }

  .form-checkbox {
    @apply h-4 w-4 rounded border border-navy/30 bg-transparent align-middle accent-navy
      focus:ring-2 focus:ring-navy/25 dark:border-cream/35 dark:accent-cream dark:focus:ring-cream/25;
  }

  .ui-input {
    @apply w-full rounded-xl border border-navy/20 bg-cream/60 px-4 py-3 text-base text-navy shadow-sm transition
      focus:border-navy/50 focus:outline-none focus:ring-2 focus:ring-navy/20
      dark:border-cream/20 dark:bg-navy/60 dark:text-cream dark:focus:border-cream/50 dark:focus:ring-cream/20;
  }

  .ui-input-compact {
    @apply px-3 py-2 text-sm focus:border-navy/40 focus:ring-0 dark:focus:border-cream/40 dark:focus:ring-0;
  }

  .ui-input-auth {
    @apply bg-cream/80 text-sm dark:bg-navy/70;
  }

  .ui-input-invalid {
    @apply border-red-500 focus:border-red-500 focus:ring-red-200 dark:border-red-400 dark:focus:border-red-400 dark:focus:ring-red-900/40;
  }

  .ui-field-hint {
    @apply text-xs text-red-600 dark:text-red-400;
  }

  .ui-tag-list {
    @apply flex flex-wrap gap-2;
  }

  .ui-tag-chip {
    @apply inline-flex items-center gap-1.5 rounded-full border border-navy/15 px-3 py-1.5 text-xs font-semibold transition dark:border-cream/15;
  }

  .ui-tag-chip-active {
    @apply bg-navy/5 text-navy dark:bg-cream/10 dark:text-cream;
  }

  .ui-tag-chip-idle {
    @apply text-navy/70 hover:bg-navy/5 dark:text-cream/70 dark:hover:bg-cream/10;
  }

  .ui-input-date {
    @apply pr-12 [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:opacity-0;
  }

  .ui-input-picker-button {
    @apply absolute inset-y-1.5 right-1.5 flex w-9 items-center justify-center rounded-lg bg-navy/10 text-navy transition
      hover:bg-navy/20 dark:bg-cream/10 dark:text-cream dark:hover:bg-cream/20;
  }

  /*
   * Unified hover tint for clickable UI elements.
   * Mirrors the subtle "events list" hover from calendar across views.
   */
  .app-shell :where(a, button, [role='button'], summary, [data-clickable='true']) {
    @apply transition-colors duration-200;
  }

  @media (hover: hover) {
    .app-shell :where(a, button, [role='button'], summary, [data-clickable='true']):not(:disabled):not([data-no-hover]):hover {
      box-shadow: inset 0 0 0 9999px rgba(26, 26, 78, 0.08);
    }

    .dark .app-shell :where(a, button, [role='button'], summary, [data-clickable='true']):not(:disabled):not([data-no-hover]):hover {
      box-shadow: inset 0 0 0 9999px rgba(255, 245, 225, 0.06);
    }
  }
}
